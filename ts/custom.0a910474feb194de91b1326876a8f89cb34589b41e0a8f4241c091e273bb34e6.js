(()=>{var r=class{localStorageKey="StackColorScheme";currentScheme;systemPreferScheme;constructor(e){this.bindMatchMedia(),this.currentScheme=this.getSavedScheme(),window.matchMedia("(prefers-color-scheme: dark)").matches===!0?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.dispatchEvent(document.documentElement.dataset.scheme),e&&this.bindClick(e),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}saveScheme(){localStorage.setItem(this.localStorageKey,this.currentScheme)}bindClick(e){e.addEventListener("click",t=>{this.isDark()?this.currentScheme="light":this.currentScheme="dark",this.setBodyClass(),this.currentScheme==this.systemPreferScheme&&(this.currentScheme="auto"),this.saveScheme()})}isDark(){return this.currentScheme=="dark"||this.currentScheme=="auto"&&this.systemPreferScheme=="dark"}dispatchEvent(e){let t=new CustomEvent("onColorSchemeChange",{detail:e});window.dispatchEvent(t)}setBodyClass(){this.isDark()?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light",this.dispatchEvent(document.documentElement.dataset.scheme)}getSavedScheme(){let e=localStorage.getItem(this.localStorageKey);return e=="light"||e=="dark"||e=="auto"?e:"auto"}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.setBodyClass()})}},a=r;var h=document.querySelectorAll(".article-content div.highlight"),n="",d="";h.forEach(c=>{let e=document.createElement("button");e.innerHTML=n,e.classList.add("copyCodeButton"),c.appendChild(e);let t=c.querySelector("code[data-lang]"),i=t.getAttribute("data-lang");if(!t)return;e.addEventListener("click",()=>{navigator.clipboard.writeText(t.textContent).then(()=>{e.textContent=d,setTimeout(()=>{e.textContent=n},1e3)}).catch(o=>{alert(o),console.log("Something went wrong",o)})});let s=document.createElement("button");s.innerHTML=i.toUpperCase()+"&nbsp;&nbsp;",s.classList.add("languageCodeButton"),c.appendChild(s)});new a(document.getElementById("dark-mode-toggle"));})();
